# CheckEasy - Application de gestion de parcours

Application complÃ¨te avec frontend React et backend Express pour la gestion des parcours de mÃ©nage et voyageur.

## ğŸš€ DÃ©marrage rapide

```bash
# Installer les dÃ©pendances
npm install

# DÃ©marrer l'application (backend + frontend)
npm start
```

Puis ouvrez votre navigateur sur `http://localhost:5173`

ğŸ“š **Pour plus de dÃ©tails, consultez [QUICK_START.md](QUICK_START.md)**

## ğŸ¯ FonctionnalitÃ©s

### Frontend
- Modal de crÃ©ation de logement en plusieurs Ã©tapes
- IntÃ©gration Airbnb pour extraction automatique des piÃ¨ces et photos
- Gestion des modÃ¨les de parcours (prÃ©dÃ©finis et personnalisÃ©s)
- Upload de photos pour chaque piÃ¨ce
- Bouton "Relancer webhook" sur chaque logement

### Backend
- Serveur Express pour l'envoi asynchrone des webhooks
- Gestion des gros payloads (images en base64)
- Logs dÃ©taillÃ©s en temps rÃ©el
- Continue de fonctionner mÃªme si le navigateur est fermÃ©

## ğŸ“¦ Structure du projet

```
.
â”œâ”€â”€ server/                      # Backend Express
â”‚   â”œâ”€â”€ index.ts                # Point d'entrÃ©e
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ webhook.ts          # Routes API
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ webhookService.ts   # Logique webhook
â”‚   â””â”€â”€ README.md               # Doc backend
â”‚
â”œâ”€â”€ src/                        # Frontend React
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ logements/
â”‚   â”‚   â”‚   â”œâ”€â”€ AddLogementDialog.tsx       # Modal principale
â”‚   â”‚   â”‚   â”œâ”€â”€ AddPhotosDialog.tsx         # Ã‰tape photos
â”‚   â”‚   â”‚   â”œâ”€â”€ AirbnbLoadingDialog.tsx     # Chargement Airbnb
â”‚   â”‚   â”‚   â””â”€â”€ AirbnbResultDialog.tsx      # RÃ©sultats Airbnb
â”‚   â”‚   â”œâ”€â”€ parcours/
â”‚   â”‚   â”‚   â”œâ”€â”€ modele/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CustomModeleBuilder.tsx # Constructeur de modÃ¨le
â”‚   â”‚   â”‚   â””â”€â”€ dialogs/
â”‚   â”‚   â”‚       â”œâ”€â”€ SelectModeleDialog.tsx  # SÃ©lection modÃ¨le
â”‚   â”‚   â”‚       â””â”€â”€ SelectPiecesDialog.tsx  # SÃ©lection piÃ¨ces
â”‚   â”‚   â””â”€â”€ ui/                             # Composants shadcn-ui
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ webhook.ts          # Appelle le backend
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ webhooks.ts         # Configuration webhooks
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ modele.ts           # Types TypeScript
â”‚   â”œâ”€â”€ App.tsx                 # Application principale
â”‚   â””â”€â”€ main.tsx                # Point d'entrÃ©e
â”‚
â”œâ”€â”€ QUICK_START.md              # Guide de dÃ©marrage rapide
â”œâ”€â”€ BACKEND_SETUP.md            # Documentation backend dÃ©taillÃ©e
â”œâ”€â”€ package.json
â””â”€â”€ README.md                   # Ce fichier
```

## ğŸš€ Installation

```bash
cd add-logement-modal
npm install
```

## ğŸ’» Lancement

```bash
npm run dev
```

L'application sera accessible sur `http://localhost:8080`

## ğŸ“ Utilisation

```tsx
import { AddLogementDialog } from "@/components/logements/AddLogementDialog";
import { ParcoursModele } from "@/types/modele";

function MyComponent() {
  const [dialogOpen, setDialogOpen] = useState(false);
  const [customModeles, setCustomModeles] = useState<ParcoursModele[]>([]);

  const handleComplete = (data) => {
    console.log("Logement crÃ©Ã©:", data);
    // data contient: nom, adresse, parcoursType, modele, pieces, piecesPhotos
  };

  const handleCreateCustom = (parcoursType: "menage" | "voyageur") => {
    // GÃ©rer la crÃ©ation d'un modÃ¨le personnalisÃ©
  };

  return (
    <>
      <button onClick={() => setDialogOpen(true)}>
        Ajouter un logement
      </button>

      <AddLogementDialog
        open={dialogOpen}
        onOpenChange={setDialogOpen}
        customModeles={customModeles}
        onCreateCustom={handleCreateCustom}
        onComplete={handleComplete}
      />
    </>
  );
}
```

## ğŸ”§ Props de AddLogementDialog

| Prop | Type | Description |
|------|------|-------------|
| `open` | `boolean` | Ã‰tat d'ouverture de la modal |
| `onOpenChange` | `(open: boolean) => void` | Callback de changement d'Ã©tat |
| `customModeles` | `ParcoursModele[]` | Liste des modÃ¨les personnalisÃ©s |
| `onDeleteCustom` | `(id: string) => void` | Callback de suppression de modÃ¨le |
| `onEditCustom` | `(modele: ParcoursModele) => void` | Callback d'Ã©dition de modÃ¨le |
| `onCreateCustom` | `(type: "menage" \| "voyageur") => void` | Callback de crÃ©ation de modÃ¨le |
| `onComplete` | `(data: LogementData) => void` | Callback de complÃ©tion |

## ğŸ› ï¸ Technologies

- **React 18** avec TypeScript
- **Vite** pour le build
- **Tailwind CSS** pour le styling
- **shadcn-ui** pour les composants UI
- **Lucide React** pour les icÃ´nes
- **Zod** pour la validation

## ğŸ“„ Licence

Ce composant est extrait du projet PARCOUR APP.

